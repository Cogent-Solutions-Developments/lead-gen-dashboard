@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap');
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: 'Outfit', sans-serif;
  --font-mono: var(--font-geist-mono);
  
  /* Sidebar Palette */
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-secondary: var(--sidebar-secondary);
  --color-sidebar-secondary-foreground: var(--sidebar-secondary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  /* Shadcn UI Colors */
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  
  /* Charts */
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

:root {
  --radius: 0.75rem;
  
  /* --- DECKO THEME: Light Mode --- */
  --background: oklch(0.98 0.00 0);
  --foreground: oklch(0.15 0.00 0);

  /* Sidebar: Deep Black Background */
  --sidebar: oklch(49.892% 0.18937 260.409); 
  --sidebar-foreground: oklch(0.98 0.00 0);
  
  /* Sidebar PRIMARY: Neon Green (For Buttons, Progress Bars, Accents) */
  --sidebar-primary: oklch(46.669% 0.2902 266.327); 
  --sidebar-primary-foreground: oklch(0.10 0.00 0);

  /* Sidebar SECONDARY: Pure White (For Active Chips, Logo) */
  --sidebar-secondary: oklch(100% 0.00011 271.152);
  --sidebar-secondary-foreground: oklch(0 0 0);
  
  /* Sidebar Utils */
  --sidebar-accent: oklch(0.20 0.00 0);
  --sidebar-accent-foreground: oklch(0.98 0.00 0);
  --sidebar-border: oklch(0.20 0.00 0);
  --sidebar-ring: oklch(0.88 0.20 138);

  /* Shadcn (Zinc Palette) */
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.129 0.042 264.695);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.129 0.042 264.695);
  --primary: oklch(0.208 0.042 265.755);
  --primary-foreground: oklch(0.984 0.003 247.858);
  --secondary: oklch(0.968 0.007 247.896);
  --secondary-foreground: oklch(0.208 0.042 265.755);
  --muted: oklch(0.968 0.007 247.896);
  --muted-foreground: oklch(0.554 0.046 257.417);
  --accent: oklch(0.968 0.007 247.896);
  --accent-foreground: oklch(0.208 0.042 265.755);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.98 0 0);
  --border: oklch(0.929 0.013 255.508);
  --input: oklch(0.929 0.013 255.508);
  --ring: oklch(0.704 0.04 256.788);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
}

.dark {
  /* --- DECKO THEME: Dark Mode --- */
  --background: oklch(0.129 0.042 264.695);
  --foreground: oklch(0.984 0.003 247.858);

  /* Sidebar: Consistent across Light/Dark modes */
  --sidebar: oklch(0.10 0.00 0);
  --sidebar-foreground: oklch(0.98 0.00 0);
  
  --sidebar-primary: oklch(0.88 0.20 138);
  --sidebar-primary-foreground: oklch(0.10 0.00 0);

  --sidebar-secondary: oklch(1 0 0);
  --sidebar-secondary-foreground: oklch(0 0 0);

  --sidebar-accent: oklch(0.20 0.00 0);
  --sidebar-accent-foreground: oklch(0.98 0.00 0);
  --sidebar-border: oklch(0.20 0.00 0);
  --sidebar-ring: oklch(0.88 0.20 138);

  /* Shadcn Dark Utils */
  --card: oklch(0.208 0.042 265.755);
  --card-foreground: oklch(0.984 0.003 247.858);
  --popover: oklch(0.208 0.042 265.755);
  --popover-foreground: oklch(0.984 0.003 247.858);
  --primary: oklch(0.929 0.013 255.508);
  --primary-foreground: oklch(0.208 0.042 265.755);
  --secondary: oklch(0.279 0.041 260.031);
  --secondary-foreground: oklch(0.984 0.003 247.858);
  --muted: oklch(0.279 0.041 260.031);
  --muted-foreground: oklch(0.704 0.04 256.788);
  --accent: oklch(0.279 0.041 260.031);
  --accent-foreground: oklch(0.984 0.003 247.858);
  --destructive: oklch(0.704 0.191 22.216);
  --destructive-foreground: oklch(0.98 0 0);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.551 0.027 264.364);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
}

@keyframes sidebar-gradient-pan {
  0% {
    background-position: 0% 20%;
  }
  50% {
    background-position: 100% 80%;
  }
  100% {
    background-position: 0% 20%;
  }
}

@keyframes sidebar-glass-drift {
  0% {
    transform: translate3d(-18%, -10%, 0) scale(1);
    opacity: 0.35;
  }
  50% {
    transform: translate3d(6%, 12%, 0) scale(1.16);
    opacity: 0.55;
  }
  100% {
    transform: translate3d(-18%, -10%, 0) scale(1);
    opacity: 0.35;
  }
}

@keyframes sidebar-noise-shift {
  0% {
    background-position: 0 0;
  }
  25% {
    background-position: 90px -70px;
  }
  50% {
    background-position: -70px 40px;
  }
  75% {
    background-position: 70px 90px;
  }
  100% {
    background-position: 0 0;
  }
}

@layer components {
  .sidebar-modern {
    isolation: isolate;
    overflow: hidden;
    border-right: 1px solid rgb(20 90 204 / 0.45);
    backdrop-filter: blur(18px) saturate(140%);
    -webkit-backdrop-filter: blur(18px) saturate(140%);
    box-shadow: 14px 0 40px -28px rgb(0 0 0 / 0.5);
    background-color: #145acc;
    background:
      radial-gradient(130% 95% at 15% -10%, rgb(74 144 255 / 0.42) 0%, transparent 56%),
      radial-gradient(120% 140% at 100% 100%, rgb(12 54 143 / 0.4) 0%, transparent 62%),
      linear-gradient(
        155deg,
        #1d66db 0%,
        #145acc 46%,
        #0f438f 100%
      );
    background-size: 170% 170%;
  }

  .sidebar-modern::before {
    content: "";
    position: absolute;
    inset: -35%;
    pointer-events: none;
    z-index: 0;
    background:
      radial-gradient(circle at 20% 30%, rgb(105 169 255 / 0.32) 0%, transparent 44%),
      radial-gradient(circle at 75% 65%, rgb(17 74 186 / 0.28) 0%, transparent 50%);
    filter: blur(14px);
    mix-blend-mode: soft-light;
  }

  .sidebar-modern::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 1;
    opacity: 0.26;
    mix-blend-mode: soft-light;
    background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%270%200%20120%20120%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Cfilter%20id%3D%27n%27%3E%3CfeTurbulence%20type%3D%27fractalNoise%27%20baseFrequency%3D%271.28%27%20numOctaves%3D%274%27%20seed%3D%272%27%20stitchTiles%3D%27stitch%27/%3E%3CfeColorMatrix%20type%3D%27saturate%27%20values%3D%270%27/%3E%3C/filter%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20filter%3D%27url%28%23n%29%27%20opacity%3D%271%27/%3E%3C/svg%3E");
    background-size: 132px 132px;
    filter: contrast(1.35) brightness(1);
  }

  .sidebar-modern > * {
    position: relative;
    z-index: 2;
  }

  .btn-sidebar-noise {
    position: relative;
    isolation: isolate;
    overflow: hidden;
    border: 1px solid rgb(255 255 255 / 0.24) !important;
    color: white !important;
    background-color: #145acc !important;
    background-image: linear-gradient(148deg, #2d71df 0%, #145acc 54%, #0f4697 100%) !important;
    box-shadow:
      0 10px 22px -16px rgb(8 28 70 / 0.9),
      inset 0 1px 0 rgb(255 255 255 / 0.26);
    transition:
      transform 180ms ease,
      box-shadow 180ms ease,
      background-image 180ms ease,
      border-color 180ms ease;
  }

  .btn-sidebar-noise::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    opacity: 0.2;
    mix-blend-mode: soft-light;
    background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%270%200%20120%20120%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Cfilter%20id%3D%27n%27%3E%3CfeTurbulence%20type%3D%27fractalNoise%27%20baseFrequency%3D%271.12%27%20numOctaves%3D%273%27%20seed%3D%272%27%20stitchTiles%3D%27stitch%27/%3E%3CfeColorMatrix%20type%3D%27saturate%27%20values%3D%270%27/%3E%3C/filter%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20filter%3D%27url%28%23n%29%27%20opacity%3D%271%27/%3E%3C/svg%3E");
    background-size: 120px 120px;
  }

  .btn-sidebar-noise::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 1;
    background: linear-gradient(180deg, rgb(255 255 255 / 0.24) 0%, transparent 44%);
  }

  .btn-sidebar-noise > * {
    position: relative;
    z-index: 2;
  }

  .btn-sidebar-noise:hover {
    border-color: rgb(255 255 255 / 0.3) !important;
    color: white !important;
    background-color: #1a62d2 !important;
    background-image: linear-gradient(148deg, #3b7ae3 0%, #1a62d2 54%, #1252ab 100%) !important;
    box-shadow:
      0 12px 24px -16px rgb(8 28 70 / 0.9),
      inset 0 1px 0 rgb(255 255 255 / 0.3);
  }

  .btn-sidebar-noise:active {
    transform: translateY(1px);
    box-shadow:
      0 8px 16px -14px rgb(8 28 70 / 0.9),
      inset 0 1px 0 rgb(255 255 255 / 0.22);
  }
}

@layer base {
  * {
    border-color: var(--border);
    outline-color: var(--ring);
  }
  body {
    @apply bg-background text-foreground;
  }
}
